!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,c)}a((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),u=n(2),c=n(3),a=n(4),s=function(){function t(t){var e=this;this.queue={},this.setStorage=a(function(){e.csi.set(e.queue),e.queue=[]},10),this.csi=t}return t.prototype.enqueueSetUpdate=function(t){var e=t.key,n=t.val;this.queue[e]=n,this.setStorage()},t.prototype.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(this,void 0,void 0,function(){var e,n,r,i,u,c=this;return o(this,function(o){return"string"==typeof t[0]?(e=t[0],n=t[2],r=t[1],n&&"object"==typeof r?Object.assign(this.storage[e],r):this.storage[e]=r,this.enqueueSetUpdate({key:e,val:this.storage[e]})):"object"==typeof t[0]&&(i=t[0],u=t[1],Object.keys(i).map(function(t){c.set(t.toString(),i[t],u)})),[2]})})},t.prototype.merge=function(t,e){return this.set(t,e,!0)},t.prototype.get=function(t){return this.storage[t]},t.prototype.syncLocal=function(t){return r(this,void 0,void 0,function(){var e=this;return o(this,function(n){switch(n.label){case 0:return t?[4,this.csi.set(t,this.storage[t])]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,Promise.all(Object.keys(this.storage).map(function(t){return e.csi.set(t,e.storage[t])}))];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.loadLocal=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return t=this,[4,this.csi.getLocalStorage()];case 1:return t.storage=e.sent(),[2]}})})},t}();e.default=new s(c.default.isWxApplet()?i.default:u.default)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,c)}a((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(this,void 0,void 0,function(){var n,r,i,u=this;return o(this,function(o){switch(o.label){case 0:return 1!==e.length?[3,2]:(n=e[0],[4,Promise.all(Object.keys(n).map(function(t){console.log("setVal",t,n[t]),u.set(t,n[t])}))]);case 1:return o.sent(),[3,4];case 2:return 2!==e.length?[3,4]:(r=e[0],i=e[1],r=""+t.keyPrefix+r,[4,new Promise(function(t,e){wx.setStorage({key:r,data:i,success:function(e){t(e.data)},fail:function(t){e(t.errMsg)}})})]);case 3:o.sent(),o.label=4;case 4:return[2]}})})},t.prototype.get=function(e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return e=""+t.keyPrefix+e,[4,new Promise(function(t,n){wx.getStorage({key:e,success:function(e){t(e.data)},fail:function(t){n(t.errMsg)}})})];case 1:return[2,n.sent()]}})})},t.prototype.getLocalStorage=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return e={},[4,new Promise(function(n,i){wx.getStorageInfo({success:function(u){var c=this;Promise.all((u.keys||[]).filter(function(e){return 0===e.indexOf(t.keyPrefix)}).map(function(n){return r(c,void 0,void 0,function(){var r,i,u;return o(this,function(o){switch(o.label){case 0:return r=n.replace(t.keyPrefix,""),i=e,u=r,[4,this.get(r)];case 1:return i[u]=o.sent(),[2,e[r]]}})})})).then(function(){n(e)}).catch(i)}})})];case 1:return[2,n.sent()]}})})},t.keyPrefix="_XSYX_MEMSTORAGE_",t}();e.default=new i},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,c)}a((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(this,void 0,void 0,function(){var n,r,i,u=this;return o(this,function(o){switch(o.label){case 0:return 1!==e.length?[3,2]:(n=e[0],[4,Promise.all(Object.keys(n).map(function(t){u.set(t,n[t])}))]);case 1:return o.sent(),[3,3];case 2:2===e.length&&(r=e[0],i=e[1],r=""+t.keyPrefix+r,i&&"object"==typeof i?localStorage.setItem(r,JSON.stringify(i)):localStorage.setItem(r,i)),o.label=3;case 3:return[2]}})})},t.prototype.get=function(e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){e=""+t.keyPrefix+e,n=localStorage.getItem(e);try{return[2,JSON.parse(n)]}catch(t){return[2,n]}return[2]})})},t.prototype.getLocalStorage=function(){return r(this,void 0,void 0,function(){var e,n=this;return o(this,function(i){switch(i.label){case 0:return e={},[4,new Promise(function(i,u){Promise.all((Object.keys(localStorage)||[]).filter(function(e){return 0===e.indexOf(t.keyPrefix)}).map(function(i){return r(n,void 0,void 0,function(){var n,r,u;return o(this,function(o){switch(o.label){case 0:return n=i.replace(t.keyPrefix,""),r=e,u=n,[4,this.get(n)];case 1:return r[u]=o.sent(),[2,e[n]]}})})})).then(function(){i(e)}).catch(u)})];case 1:return[2,i.sent()]}})})},t.keyPrefix="_XSYX_MEMSTORAGE_",t}();e.default=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={isWxApplet:function(){return"object"==typeof wx&&(!!wx.setStorage&&(!!wx.getStorage&&!!wx.getStorageInfo))}}},function(t,e,n){(function(e){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,f="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,p=f||l||Function("return this")(),h=Object.prototype.toString,y=Math.max,v=Math.min,d=function(){return p.Date.now()};function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==o}(t))return r;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=c.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):u.test(t)?r:+t}t.exports=function(t,e,r){var o,i,u,c,a,s,f=0,l=!1,p=!1,h=!0;if("function"!=typeof t)throw new TypeError(n);function w(e){var n=o,r=i;return o=i=void 0,f=e,c=t.apply(r,n)}function x(t){var n=t-s;return void 0===s||n>=e||n<0||p&&t-f>=u}function m(){var t=d();if(x(t))return S(t);a=setTimeout(m,function(t){var n=e-(t-s);return p?v(n,u-(t-f)):n}(t))}function S(t){return a=void 0,h&&o?w(t):(o=i=void 0,c)}function j(){var t=d(),n=x(t);if(o=arguments,i=this,s=t,n){if(void 0===a)return function(t){return f=t,a=setTimeout(m,e),l?w(t):c}(s);if(p)return a=setTimeout(m,e),w(s)}return void 0===a&&(a=setTimeout(m,e)),c}return e=g(e)||0,b(r)&&(l=!!r.leading,u=(p="maxWait"in r)?y(g(r.maxWait)||0,e):u,h="trailing"in r?!!r.trailing:h),j.cancel=function(){void 0!==a&&clearTimeout(a),f=0,o=s=i=a=void 0},j.flush=function(){return void 0===a?c:S(d())},j}}).call(this,n(5))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])});